{"version":3,"sources":["jstabs.js"],"names":["jstabs","id","params","el","document","querySelector","tabItems","querySelectorAll","tabIDs","Object","keys","map","idx","getAttribute","tabs","tabID","getElementById","empty","indexOf","console","error","activeTab","hash","window","location","substring","to","forEach","call","tabItem","addEventListener","e","preventDefault","_this","currentTarget","Array","prototype","slice","filterTabItems","filter","item","attr","filterTabs","shift","tab","before","input","type","disabled","checked","disableInputs","off","classList","add","enableInputs","after","remove","removeAttribute","inputs","setAttribute","firstTab"],"mappings":"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","sourcesContent":["/**\r\n * Author and copyright: Tishuk Nadezda (https://github.com/rainjeck)\r\n * Repository: https://github.com/rainjeck/jstabs\r\n * License: MIT, see file 'LICENSE'\r\n */\r\n\r\nexport default class jstabs {\r\n  constructor(id, params) {\r\n    this.id = id;\r\n    this.params = params;\r\n\r\n    const el = document.querySelector(id);\r\n    const tabItems = el.querySelectorAll(\"[data-tab]\");\r\n    const tabIDs = Object.keys(tabItems).map(function(idx) {\r\n      var id = tabItems[idx].getAttribute(\"data-tab\");\r\n      return id;\r\n    });\r\n    var tabs = tabIDs.map(function(tabID) {\r\n      return document.getElementById(tabID);\r\n    });\r\n\r\n    var empty = tabs.indexOf(null);\r\n\r\n    if (!empty || empty > 0) {\r\n      console.error(\"Tab not found. Check tabs elements\");\r\n      return;\r\n    }\r\n\r\n    this.el = el;\r\n    this.id = id;\r\n    this.tabItems = tabItems;\r\n    this.tabs = tabs;\r\n\r\n    let activeTab = (this.params && this.params.activeTab) ? this.params.activeTab : tabIDs[0];\r\n\r\n    if (this.params && this.params.hash) {\r\n      var hash = window.location.hash.substring(1);\r\n\r\n      if (hash) {\r\n        activeTab = hash;\r\n      }\r\n    }\r\n\r\n    this.activeTab = activeTab;\r\n\r\n    this.to(activeTab);\r\n\r\n    [].forEach.call(tabItems, (tabItem) => {\r\n      tabItem.addEventListener(\"click\", (e) => {\r\n        e.preventDefault();\r\n\r\n        var _this = e.currentTarget;\r\n\r\n        var id = _this.getAttribute(\"data-tab\");\r\n\r\n        this.to(id);\r\n      });\r\n    });\r\n  }\r\n\r\n  to(tabID) {\r\n\r\n    const tabItems = Array.prototype.slice.call(this.tabItems);\r\n    const tabs = Array.prototype.slice.call(this.tabs);\r\n\r\n    const filterTabItems = tabItems.filter( (item) => {\r\n      var attr = item.getAttribute(\"data-tab\");\r\n      return attr == tabID;\r\n    });\r\n\r\n    const filterTabs = tabs.filter( (item) => {\r\n      var id = item.id;\r\n      return id == tabID;\r\n    });\r\n\r\n    const tabItem = filterTabItems.shift();\r\n    const tab = filterTabs.shift();\r\n\r\n    if (!tab) {\r\n      console.error(`Tab \"${tabID}\" not found`);\r\n      return;\r\n    }\r\n\r\n    if (this.params && typeof this.params.before === \"function\") {\r\n      this.params.before(this);\r\n    }\r\n\r\n    const input = tabItem.querySelector(\"input\");\r\n\r\n    if (input && input.type == \"radio\") {\r\n      if (!input.disabled) {\r\n        input.checked = 'true';\r\n      }\r\n      if (input.disabled) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    this.activeTab = tabID;\r\n\r\n    if (this.params && this.params.disableInputs) {\r\n      this.disableInputs();\r\n    }\r\n\r\n    this.off();\r\n\r\n    tabItem.classList.add(\"is-active\");\r\n    tab.classList.add(\"is-active\");\r\n\r\n    if (this.params && this.params.disableInputs) {\r\n      this.enableInputs(tab);\r\n    }\r\n\r\n    if (this.params && this.params.hash) {\r\n      this.hash();\r\n    }\r\n\r\n    if (this.params && typeof this.params.after === \"function\") {\r\n      this.params.after(this);\r\n    }\r\n  }\r\n\r\n  off() {\r\n\r\n    [].forEach.call(this.tabItems, (tabItem) => {\r\n      tabItem.classList.remove(\"is-active\");\r\n      const input = tabItem.querySelector(\"input\");\r\n\r\n      if (input && input.type == \"radio\") {\r\n        input.removeAttribute(\"checked\");\r\n      }\r\n    });\r\n\r\n    [].forEach.call(this.tabs, (tab) => tab.classList.remove(\"is-active\"));\r\n\r\n  }\r\n\r\n  disableInputs() {\r\n    [].forEach.call(this.tabs, (tab) => {\r\n      var inputs = tab.querySelectorAll(\"input, select, textarea\");\r\n\r\n      if (inputs) {\r\n        [].forEach.call(inputs, (input) => input.setAttribute(\"disabled\", \"disabled\"));\r\n      }\r\n    });\r\n  }\r\n\r\n  enableInputs(tab) {\r\n    var inputs = tab.querySelectorAll(\"input, select, textarea\");\r\n\r\n    if (inputs) {\r\n      [].forEach.call(inputs, (input) => input.removeAttribute(\"disabled\"));\r\n    }\r\n  }\r\n\r\n  hash() {\r\n    var hash = window.location.hash.substring(1);\r\n\r\n    var firstTab = this.tabItems[0].getAttribute(\"data-tab\");\r\n    var activeTab = this.activeTab;\r\n\r\n    if (!hash && firstTab != activeTab) {\r\n      window.location.hash = \"#\" + activeTab;\r\n    }\r\n\r\n    if (hash) {\r\n      window.location.hash = \"#\" + activeTab;\r\n    }\r\n  }\r\n}\r\n"],"file":"../src/jstabs.js"}